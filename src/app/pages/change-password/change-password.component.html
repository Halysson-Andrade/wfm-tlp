<app-loading [isLoading]="isLoading"></app-loading>

<div class="change-password-container">
  <div class="container-logo">
    <img
      [src]="environment.clientLogo"
      alt="Logo do cliente"
      class="logo-client"
    />
  </div>
  <div class="container-gradient">
    <form
      [formGroup]="changePasswordForm"
      class="container-form"
      (ngSubmit)="onSubmit()"
    >
      <div class="form-header">
        <h1 class="header-title">Troca de senha</h1>
        <p class="header-subtitle">
          Primeiro acesso, por favor altere sua senha.
        </p>
      </div>
      <div class="form-group">
        <app-input
          [type]="'password'"
          [label]="'Nova senha'"
          [placeholder]="'Digite sua nova senha'"
          [control]="getControl('password')"
          [id]="'password'"
          [required]="true"
          [isInvalid]="isFieldInvalid('password')"
        ></app-input>
        <div *ngIf="isFieldInvalid('password')" class="error-message">
          <small *ngIf="password!.hasError('required')"
            >A senha é obrigatória.</small
          >
        </div>
      </div>
      <div class="form-group">
        <app-input
          [type]="'password'"
          [label]="'Confirme sua nova senha'"
          [placeholder]="'Confirme sua nova senha'"
          [control]="getControl('confirmPassword')"
          [id]="'confirmPassword'"
          [required]="true"
          [isInvalid]="isFieldInvalid('confirmPassword')"
        ></app-input>
        <div *ngIf="isFieldInvalid('confirmPassword')" class="error-message">
          <small *ngIf="confirmPassword!.hasError('required')"
            >A confirmação de senha é obrigatória.</small
          >
        </div>
      </div>
      <div class="form-button">
        <app-button type="button" class="btn-back" (click)="onCancel()">
          <span>Voltar</span>
        </app-button>
        <app-button
          class="btn-submit"
          type="submit"
          [disabled]="changePasswordForm.invalid || isLoading"
        >
          <span>Confirmar</span>
        </app-button>
      </div>
    </form>
  </div>
</div>
