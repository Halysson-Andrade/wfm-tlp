<app-loading [isLoading]="isLoading"></app-loading>

<div class="login-container">
  <div class="container-logo">
    <img
      [src]="environment.clientLogo"
      alt="Logo do cliente"
      class="logo-client"
    />
  </div>
  <div class="container-gradient">
    <form [formGroup]="loginForm" class="container-form" (ngSubmit)="onLogin()">
      <div class="form-header">
        <h1 class="header-title">Login</h1>
        <p class="header-subtitle">Autentique-se para continuar.</p>
      </div>
      <div class="form-group">
        <app-input
          #emailInput
          [type]="'email'"
          [label]="'E-mail'"
          [placeholder]="'Digite seu email'"
          [control]="getControl('email')"
          [id]="'email'"
          [required]="true"
          [isInvalid]="isFieldInvalid('email')"
        ></app-input>
        <div *ngIf="isFieldInvalid('email')" class="error-message">
          <small *ngIf="email!.hasError('required')"
            >O e-mail é obrigatório.</small
          >
          <small *ngIf="email!.hasError('invalidEmail') && email!.value"
            >Digite um e-mail válido.</small
          >
        </div>
      </div>
      <div class="form-group">
        <app-input
          [type]="'password'"
          [label]="'Senha'"
          [placeholder]="'Digite sua senha'"
          [control]="getControl('password')"
          [id]="'password'"
          [required]="true"
          [isInvalid]="isFieldInvalid('password')"
        ></app-input>
        <div *ngIf="isFieldInvalid('password')" class="error-message">
          <small *ngIf="password!.hasError('required')"
            >A senha é obrigatória.</small
          >
        </div>
      </div>
      <div class="form-group-inline">
        <div class="form-group">
          <app-input
            [type]="'checkbox'"
            [label]="'Lembrar-me'"
            [id]="'rememberMe'"
            [control]="getControl('rememberMe')"
            [isRow]="true"
          ></app-input>
        </div>
        <a class="esqueceu-senha" [routerLink]="['/recuperar-senha']"
          >Esqueceu a senha?</a
        >
      </div>
      <div class="form-button">
        <app-button
          type="submit"
          class="btn-submit"
          [disabled]="loginForm.invalid || isLoading"
        >
          <span>Autenticar</span>
        </app-button>
      </div>
    </form>
  </div>
</div>
